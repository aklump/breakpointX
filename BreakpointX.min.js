/**
 * BreakpointX ("Crossing") JavaScript Module v0.4.5
 *
 *
 * Define responsive breakpoints, register callbacks when crossing, with optional css class handling.
 *
 * Copyright 2015-2017, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Tue Aug 15 21:37:05 PDT 2017
 */
var BreakpointX=function($,t){function s(t,s){return(s?"min":"max")+"-width: "+t+"px"}function i(t,s){this.version="0.4.5",this.settings=$.extend({},this.options,s),this.settings.breakpoints=t,this.current=null,this.last={},this.actions={},this.breakpoints={},this.aliases=[],this.init(t)}return i.prototype.options={addClassesTo:null,classPrefix:"bpx-",resizeThrottle:200},i.prototype.init=function(i){var a=this,n,e={};if(i instanceof Array){var r,o;for(n in i){o=1*n+1,r=i[n];var l=!0;void 0!==i[o]&&(l=!1,r=1*i[o]-1);e[s(r,l)]=i[n]}i=e}if("object"!=typeof i)throw"Object needs format {alias: minWidth}.";a.aliases=[];var h=[],u,d,c,p;for(u in i)d=parseInt(i[u],10),h.push([u,d]);h.sort(function(t,s){return t[1]-s[1]});for(n in h)n*=1,c=h[n][1],u=h[n][0],a.aliases.push(u),p=void 0===h[n+1]?null:h[n+1][1]-1,a.breakpoints[u]=[c,p];if(a.reset(),this.settings.addClassesTo&&a.add("both",this.aliases,this.cssHandler),a.actions.hasOwnProperty("bigger")||a.actions.hasOwnProperty("smaller")||a.actions.hasOwnProperty("both")){var f=a.getWindowWidth();a.callbacksHandler(f,!0);var v=a.settings.resizeThrottle,b=null;$(t).resize(function(){clearTimeout(b),b=setTimeout(function(){f=a.getWindowWidth(),a.callbacksHandler(f)},v)})}return a},i.prototype.getWindowWidth=function(){var s,i=t,a="inner";return"innerWidth"in t||(a="client",i=document.documentElement||document.body),s=i[a+"Width"]},i.prototype.cssHandler=function(t,s,i){var a=this.settings.addClassesTo instanceof jQuery?this.settings.addClassesTo:$(this.settings.addClassesTo),n=this.settings.classPrefix;a.removeClass(n+"smaller").removeClass(n+"bigger").removeClass(n+t.name).addClass(n+s.name),i&&a.addClass(n+i)},i.prototype.callbacksHandler=function(t,s){var i=this,a=i.alias(t),n=a!==i.last.alias;if(n||s){var e=n?t>i.last.width[0]?"bigger":"smaller":null,r=[i.actions.both];e&&r.push(i.actions[e]);var o=[],l,h,u,d;if("smaller"===e){o.push(i.last.alias),h=this.value(i.last.alias),h=h[0],u=this.value(a),u=u[1];for(d in this.breakpoints)l=this.breakpoints[d][1],u<l&&l<h&&o.push(d)}else{o.push(a),h=this.value(a),h=h[0],u=this.value(i.last.alias),u=u[1];for(d in this.breakpoints)l=this.breakpoints[d][0],u<l&&l<h&&o.push(d)}h={minWidth:i.breakpoints[i.last.alias][0],maxWidth:i.breakpoints[i.last.alias][1],name:i.last.alias},u={minWidth:i.breakpoints[a][0],maxWidth:i.breakpoints[a][1],name:a},i.current=a;for(var c in o){var p=o[c];for(var f in r)for(var v in r[f][p])r[f][p][v].call(i,h,u,e)}i.last={width:i.value(a),alias:a,direction:e}}},i.prototype.reset=function(){return this.actions={bigger:[],smaller:[],both:[]},this.last={width:null,alias:null,direction:null},this.last.alias=this.alias(t.innerWidth),this.last.width=this.value(this.last.alias),this.current=this.last.alias,this},i.prototype.alias=function(t){if("first"===t)return this.aliases[0];if("last"===t)return this.aliases[this.aliases.length-1];var s;for(var i in this.breakpoints){var a=this.breakpoints[i][0];if(s=s||i,t<a)return s;s=i}return s},i.prototype.value=function(t){return void 0===this.breakpoints[t]?null:this.breakpoints[t]},i.prototype.query=function(t){var i=t===this.alias("last"),a=this.value(t);return a=i?a[0]:a[1],s(a,i)},i.prototype.add=function(t,s,i){var a=this;if(void 0===a.actions[t])throw"Bad direction: "+t;if(0===s.length)throw"Breakpoints must be an array of aliases.";if("function"!=typeof i)throw"Callback must be a function";for(var n in s){var e=s[n];if(-1===a.aliases.indexOf(e))throw'Unknown alias: "'+e+'"';a.actions[t][e]=a.actions[t][e]||[],a.actions[t][e].push(i)}return this},i}(jQuery,window);
