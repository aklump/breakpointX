/**
 * BreakpointX JavaScript Module v0.2.7
 * 
 *
 * Define responsive breakpoints, register callbacks when crossing, with optional css class handling.
 *
 * Copyright 2015-2016, Aaron Klump <sourcecode@intheloftstudios.com>
 * @license Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Date: Tue Jan 12 17:01:21 PST 2016
 */
var BreakpointX=function($){function t(t,i){this.version="0.2.7",this.settings=$.extend({},this.options,i),this.current=null,this.last={},this.actions={},this.breakpoints={},this.aliases=[],this.init(t)}return t.prototype.options={addClassesTo:null,classPrefix:"bpx-",resizeThrottle:200},t.prototype.init=function(t){var i=this,s={};if(t instanceof Array){var a,n,e,r;for(c in t)r=1*c+1,"undefined"!=typeof t[r]?(a="max",n=1*t[r]-1):(a="min",n=t[c]),e=0===n?"":"px",s["("+a+"-width: "+n+e+")"]=t[c];t=s}if("object"!=typeof t)throw"Object needs format {alias: minWidth}.";i.aliases=[];var o=[],l,h,d,u;for(l in t)h=parseInt(t[l],10),o.push([l,h]);o.sort(function(t,i){return t[1]-i[1]});for(var c in o)c*=1,d=o[c][1],l=o[c][0],i.aliases.push(l),u="undefined"==typeof o[c+1]?null:o[c+1][1]-1,i.breakpoints[l]=[d,u];if(i.reset(),this.settings.addClassesTo&&i.add("both",this.aliases,this.cssHandler),i.actions.hasOwnProperty("bigger")||i.actions.hasOwnProperty("smaller")||i.actions.hasOwnProperty("both")){var f=i.getWindowWidth();i.callbacksHandler(f,!0);var p=i.settings.resizeThrottle,m=null;$(window).resize(function(){clearTimeout(m),m=setTimeout(function(){f=i.getWindowWidth(),i.callbacksHandler(f)},p)})}return i},t.prototype.getWindowWidth=function(){var t,i=window,s="inner";return"innerWidth"in window||(s="client",i=document.documentElement||document.body),t=i[s+"Width"]},t.prototype.cssHandler=function(t,i,s,a){var n=a.settings.addClassesTo instanceof jQuery?a.settings.addClassesTo:$(a.settings.addClassesTo),e=a.settings.classPrefix;n.removeClass(e+"smaller").removeClass(e+"larger").removeClass(e+t.name).addClass(e+i.name),s&&n.addClass(e+s)},t.prototype.callbacksHandler=function(t,i){var s=this,a=s.alias(t),n=a!==s.last.alias;if(n||i){var e=n?t>s.last.width[0]?"bigger":"smaller":null,r="smaller"===e?s.last.alias:a,o=[s.actions.both];e&&o.push(s.actions[e]),s.last={width:s.value(a),alias:a,direction:e},s.current=a;for(var l in o){var h={minWidth:s.breakpoints[s.last.alias][0],maxWidth:s.breakpoints[s.last.alias][1],name:s.last.alias},d={minWidth:s.breakpoints[a][0],maxWidth:s.breakpoints[a][1],name:a};for(var u in o[l][r])o[l][r][u](h,d,e,s)}}},t.prototype.reset=function(){return this.actions={bigger:[],smaller:[],both:[]},this.last={width:null,alias:null,direction:null},this.last.alias=this.alias(window.innerWidth),this.last.width=this.value(this.last.alias),this.current=this.last.alias,this},t.prototype.alias=function(t){if("first"===t)return this.aliases[0];if("last"===t)return this.aliases[this.aliases.length-1];var i;for(var s in this.breakpoints){var a=this.breakpoints[s][0];if(i=i||s,a>t)return i;i=s}return i},t.prototype.value=function(t){return"undefined"==typeof this.breakpoints[t]?null:this.breakpoints[t]},t.prototype.add=function(t,i,s){var a=this;if("undefined"==typeof a.actions[t])throw"Bad direction: "+t;if(0===i.length)throw"Breakpoints must be an array of aliases.";if("function"!=typeof s)throw"Callback must be a function";for(var n in i){var e=i[n];if(-1===a.aliases.indexOf(e))throw'Unknown alias: "'+e+'"';a.actions[t][e]=a.actions[t][e]||[],a.actions[t][e].push(s)}return this},t}(jQuery);